'use strict';

var _joi = require('joi');

var _joi2 = _interopRequireDefault(_joi);

var _momentTimezone = require('moment-timezone');

var _momentTimezone2 = _interopRequireDefault(_momentTimezone);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

module.exports = {
  base: _joi2.default.string(),
  name: 'string',
  language: { timezone: 'timezone failure' },
  rules: [{
    name: 'timezone',
    params: {
      q: _joi2.default.object().keys({
        returnMoment: _joi2.default.boolean()
      })
    },
    validate: function validate(params, value, state, options) {
      if (!_momentTimezone2.default.tz.zone(value)) {
        return this.createError('string.timezone', { v: value }, state, options);
      }
      return params.q ? _momentTimezone2.default.tz(value) : value;
    }
  }]
};
//# sourceMappingURL=index.js.map